# –°–∫—Ä–∏–ø—Ç—ã –∏ –∞–ª–∏–∞—Å—ã –¥–ª—è –≤–∞—à–µ–≥–æ –ª–∏–Ω—É–∫—Å–∞
–ö–∞–∂–¥—ã–π, –∫—Ç–æ –ø—Ä–æ–≤–æ–¥–∏—Ç –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –±–æ–ª—å—à–µ –ø—è—Ç–∏ –º–∏–Ω—É—Ç, —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è —Å –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ: –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–ª–∏–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –Ω–∞–±–∏—Ä–∞—Ç—å —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞, –∞ —Ä—É—Ç–∏–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ç–Ω–∏–º–∞—é—Ç –≤—Ä–µ–º—è –∏ –≤–Ω–∏–º–∞–Ω–∏–µ. –°–Ω–∞—á–∞–ª–∞ —Ç–µ—Ä–ø–∏—à—å, –ø–æ—Ç–æ–º ‚Äî –Ω–∞—á–∏–Ω–∞–µ—à—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å.

–ü—Ä–æ—Å—Ç–µ–π—à–∏–π –∞–ª–∏–∞—Å –≤ .bashrc –∏–ª–∏ .zshrc –∫–∞–∂–µ—Ç—Å—è –Ω–µ–±–æ–ª—å—à–∏–º –æ—Ç–∫—Ä—ã—Ç–∏–µ–º. –ü–µ—Ä–≤—ã–π —Ä–∞–±–æ—á–∏–π —Å–∫—Ä–∏–ø—Ç, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –≤ .local/bin, –æ—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ –ø—Ä–æ—Ä—ã–≤. –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ –ª–µ–Ω—å ‚Äî —ç—Ç–æ –ø—Ä–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –ø—Ä–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é —Ä–∞–±–æ—Ç—ã.

–°–æ –≤—Ä–µ–º–µ–Ω–µ–º —Ç–∞–∫–∞—è ¬´–º–µ–ª–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è¬ª —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤ —Ü–µ–ª—ã–π –ª–∏—á–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –∏–ª–∏ –Ω–∞–±–æ—Ä —É—Ç–∏–ª–∏—Ç –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏. –≠—Ç–æ —É–∂–µ –Ω–µ –ø–∞—Ä–∞ –∑–∞–ø–ª–∞—Ç–æ–∫, –∞ —Ç–≤–æ—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ä–µ–¥–∞, –æ—Ç—Ç–æ—á–µ–Ω–Ω–∞—è –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏. –í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ —è —Ö–æ—á—É –ø–æ–∫–∞–∑–∞—Ç—å —Å–≤–æ—é –∫–æ–ª–ª–µ–∫—Ü–∏—é —Ç–∞–∫–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –∞–ª–∏–∞—Å–æ–≤ ‚Äî –Ω–µ –∫–∞–∫ –∏–¥–µ–∞–ª—å–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç, –∞ 3–∫–∞–∫ –ø—Ä–∏–º–µ—Ä –∂–∏–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞. –í–æ–∑–º–æ–∂–Ω–æ, –∫–∞–∫–∏–µ-—Ç–æ —Ä–µ—à–µ–Ω–∏—è –æ–∫–∞–∂—É—Ç—Å—è –ø–æ–ª–µ–∑–Ω—ã–º–∏ –∏ –≤–∞–º, –∞ –≥–ª–∞–≤–Ω–æ–µ ‚Äî –ø–æ–±—É–¥—è—Ç —Å–æ–∑–¥–∞—Ç—å —á—Ç–æ-—Ç–æ —Å–≤–æ—ë, –µ—â–µ –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–µ.

---

–î–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–µ –ª–∏–Ω—É–∫—Å–∞ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –¥–∏—Å–∫—É—Å—Å–∏—é –Ω–∞ —Ç–µ–º—É —Ç–æ–≥–æ, –∫–æ–≥–¥–∞ –ø–æ–ª–µ–∑–Ω—ã –∞–ª–∏–∞—Å—ã, –∞ –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ —É—Å–ª–æ–≤–Ω–æ–º `~/.local/bin/`. –ê–ª–∏–∞—Å—ã –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∏ –±—ã—Å—Ç—Ä—ã–µ, –±–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –∏–º–∏ –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–µ–±–æ–ª—å—à–∏–µ —Ü–µ–ø–æ—á–∫–∏ –∫–æ–º–∞–Ω–¥. –ù–æ —É –Ω–∏—Ö –µ—Å—Ç—å –º–∏–Ω—É—Å—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä –µ—Å–ª–∏ –∑–∞–¥–∞–≤–∞—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥–µ —à–µ–ª–ª–∞, —Ç–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–µ—Å—Å–∏—é. –ü–æ—ç—Ç–æ–º—É –∏–Ω–æ–≥–¥–∞ —É–¥–æ–±–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–∞ bash, –Ω–æ –∏ –Ω–∞ –¥—Ä—É–≥–∏—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤ —Å–∏—Å—Ç–µ–º–∞—Ö —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –ù—É –∏ –ø–æ–Ω—è—Ç–Ω–æ –¥–µ–ª–æ —Å–∫—Ä–∏–ø—Ç—ã —É–∂–µ –∏–º–µ—é—Ç –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª—å—à–æ–π –ø—Ä–æ—Å—Ç–æ—Ä –¥–ª—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ —è –ø–æ–∫–∞–∂—É –∏ –∞–ª–∏–∞—Å—ã, –∏ —Å–∫—Ä–∏–ø—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —è —Å–∞–º –∏—Å–ø–æ–ª—å–∑—É—é –Ω–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –æ—Å–Ω–æ–≤–µ.

–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [–º–æ–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏](https://github.com/alexeev-prog/usefulscripts). –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –∏–ª–∏ —á–µ—Ä–µ–∑ –ø—É–ª–ª —Ä–µ–∫–≤–µ—Å—Ç.

## NixOS
–ù–∞—á–Ω—É —Å –Ω–∞–±–æ—Ä–∞ –∞–ª–∏–∞—Å–æ–≤ –¥–ª—è NixOS:

```bash
alias rb="sudo nixos-rebuild switch --flake /home/alexeev/nixos/"
alias upd="nix flake update /home/alexeev/nixos/"
alias upg="sudo nixos-rebuild switch --upgrade --flake /home/alexeev/nixos/"
alias nixclean="sudo nix-collect-garbage -d"
alias hms="home-manager switch --flake /home/alexeev/nixos/"

alias conf="nvim ~/nixos/nixos/configuration.nix"
alias pkgs="nvim ~/nixos/nixos/packages.nix"
```

–ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å —Ä–µ–±–∏–ª–¥, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –æ—á–∏—Å—Ç–∫—É —Å–∏—Å—Ç–µ–º—ã, –∞ —Ç–∞–∫–∂–µ –±—ã—Å—Ç—Ä–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–∫–µ—Ç–∞–º–∏ –≤ —Å–∏—Å—Ç–µ–º–µ.

## Git
–ê–ª–∏–∞—Å—ã –¥–ª—è git –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –∫–∞–∫ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –≤–Ω–µ—à–Ω–∏–º –ø—É—Ç–µ–º:

```bash
alias gga="git add"
alias ggc="git commit"
alias ggcm="git commit -m"
alias ggs="git status"
alias ggl="git log"
alias gglo="git log --oneline"
alias ggd="git diff"
alias ggds="git diff --staged"
alias ggr="git restore"
```

–¢–∞–∫ –∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ `~/.gitconfig`:

```bash
[alias]
    st = status -b
    c = commit
    co = checkout
    br = branch
    slog = log --pretty=format:"%C(auto)%h%C(auto)%d\\ %C(auto,reset)%s\\ \\ [%C(auto,blue)%an%C(auto,reset),\\ %C(auto,cyan)%ar%C(auto,reset)]"
    glog = log --graph --pretty=format:"%C(auto,yellow)%h%C(auto)%d\\ %C(auto,reset)%s\\ \\ [%C(auto,blue)%an%C(auto,reset),\\ %C(auto,cyan)%ar%C(auto,reset)]"
    wlog = log --pretty=format:"%C(auto,yellow)%h%C(auto)%d%C(auto,reset)\\ by\\ %C(auto,blue)%an%C(auto,reset),\\ %C(auto,cyan)%ar%C(auto,reset)%n\\ %s%n" --stat
    gr = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(bold yellow)%d%C(reset)' --all
    wt = worktree
```

–Ø –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —á–∞—Å—Ç–æ –ø–æ–ª—å–∑—É—é —ç—Ç–∏ –∞–ª–∏–∞—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏, –ø–æ–ª—É—á–∞—Ç—å –ª–æ–≥–∏ –∏ –≥—Ä–∞—Ñ—ã –≤–µ—Ç–æ–∫ –∏ –∫–æ–º–º–∏—Ç–æ–≤.

–¢–∞–∫–∂–µ —è –∏—Å–ø–æ–ª—å–∑—É—é –∏–Ω–æ–≥–¥–∞ –≤–æ—Ç —Ç–∞–∫–æ–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç:

```python
#!/usr/bin/env python3
import os
import re


class GitVersion:
    def __init__(self):
        self._default_version = "0.1.0"
        os.chdir(os.path.dirname(os.path.realpath(__file__)))

    @property
    def tag(self):
        stream = os.popen("git describe --match v[0-9]* --abbrev=0 --tags")
        return stream.read().strip()

    @property
    def version(self):
        version = f"{self.tag[1:]}.{self.build}"

        if version == ".":
            return self._default_version

        return version

    @property
    def default_branch(self):
        stream = os.popen("git config --get init.defaultBranch")
        result = stream.read().strip()

        if not result:
            result = "main"

        return result

    @property
    def build(self):
        stream = os.popen(f"git rev-list {self.tag}.. --count")
        return stream.read().strip()

    @property
    def branch(self):
        stream = os.popen("git branch --show-current")
        return stream.read().strip()

    @property
    def full(self):
        return f"{self.version}-{self.branch}"

    @property
    def standard(self):
        standard = f"{self.version}-{self.branch}"
        if self.branch == self.default_branch or re.match("release/.*", self.branch):
            standard = f"{self.version}"
        return standard

    @property
    def commit(self):
        stream = os.popen("git rev-parse HEAD")
        return stream.read().strip()

    @property
    def commit_hash(self):
        stream = os.popen("git rev-parse --short HEAD")
        return stream.read().strip()

    def __str__(self):
        return f"""
Tag: {self.tag}
Version: {self.version}
Full: {self.full}
Branch: {self.branch}
Build: {self.build}
Standard: {self.standard}
Commit: {self.commit}

GitRepo {self.full} {self.commit_hash}
"""


if __name__ == "__main__":
    git_version = GitVersion()
    print(git_version)
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –≤–∫–ª—é—á–∞—è —Ä–µ–ª–∏–∑–Ω—ã–µ —Ç–µ–≥–∏ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (`git describe --match v[0-9]* --abbrev=0 --tags`). –Ø —Å–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç, –µ—Å–ª–∏ –Ω–∞–¥–æ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º.

## –ü–æ–ª–µ–∑–Ω—ã–µ –∞–ª–∏–∞—Å—ã
–Ø –∏—Å–ø–æ–ª—å–∑—É—é –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —á–∞—Å—Ç–æ –∞–ª–∏–∞—Å—ã –¥–ª—è —Å–≤–æ–µ–≥–æ —à–µ–ª–ª–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, —è —á–µ—Ä–µ–∑ `alias ls='exa --icons'` –∑–∞–º–µ–Ω–∏–ª `ls` –Ω–∞ —É—Ç–∏–ª–∏—Ç—É `exa`.

```bash
alias ll="ls -l"
alias se="sudoedit"
alias bat="bat --theme base16"
alias ff=fastfetch
alias nv=nvim
alias v=vim
alias nixfish="echo Enter to nix-shell && nix-shell . --command fish"

alias ..='cd ..'
alias 2..='cd ../..'
alias 3..='cd ../../..'
alias 4..='cd ../../../..'
alias 5..='cd ../../../../..'
```

–Ø –∏—Å–ø–æ–ª—å–∑—É—é –∫–æ–º–∞–Ω–¥—É nixfish –∫–æ–≥–¥–∞ –º–Ω–µ –Ω—É–∂–Ω–æ –≤–æ–π—Ç–∏ –≤ nix-shell –æ–∫—Ä—É–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é –æ–±–æ–ª–æ—á–∫—É fish (—Ç–∞–∫ –∫–∞–∫ —è –∏—Å–ø–æ–ª—å–∑—É—é –µ–µ –Ω–∞ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–π –æ—Å–Ω–æ–≤–µ). –û—Å—Ç–∞–ª—å–Ω—ã–µ - —ç—Ç–æ —É–¥–æ–±–Ω—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥, –æ—Ç –≤—ã–∑–æ–≤–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º –¥–æ —É–ø—Ä–æ—â–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã (–∫–∞–∫ –≤–∏–¥–Ω–æ –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –±–ª–æ–∫–µ, –≥–¥–µ –∏–¥–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏).

–¢–∞–∫–∂–µ —è –∏—Å–ø–æ–ª—å–∑—É—é —Å–ª–µ–¥—É—é—â–∏–µ:

```bash
alias syslog_emerg="sudo dmesg --level=emerg,alert,crit"
alias syslog="sudo dmesg --level=err,warn"
alias xlog='grep "(EE)\|(WW)\|error\|failed" ~/.local/share/xorg/Xorg.0.log'
alias vacuum="sudo journalctl --vacuum-size=100M"
alias vacuum_time="sudo journalctl --vacuum-time=2weeks"
alias rm="rmtrash "
alias youtube='yt-dlp -f "bestvideo[height<=1080]+bestaudio" --merge-output-format mp4 --output "%(title)s.%(ext)s"'
```

–ü–µ—Ä–≤—ã–µ 5 –∫–∞–∫ –≤–∏–¥–Ω–æ, –ø–æ–º–æ–≥–∞—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ —è–¥—Ä–∞ –∏ –∂—É—Ä–Ω–∞–ª–æ–º, –∞ —Ç–∞–∫–∂–µ –æ—á–∏—â–∞—Ç—å –∏—Ö. –ö–æ–º–∞–Ω–¥—É rm —è –∑–∞–º–µ–Ω—è—é –Ω–∞ —É—Ç–∏–ª–∏—Ç—É rmtrash, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç —É–¥–∞–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ –∫–æ—Ä–∑–∏–Ω—É. –≠—Ç–æ –Ω–µ —Ä–∞–∑ –º–µ–Ω—è —Å–ø–∞—Å–∞–ª–æ –æ—Ç –ø–æ—Ç–µ—Ä–∏ —Ñ–∞–π–ª–æ–≤. –ê –∫–æ–º–∞–Ω–¥–∞ youtube –ø–æ–º–æ–≥–∞–µ—Ç —Å–∫–∞—á–∏–≤–∞—Ç—å –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ yt-dlp –≤ –Ω—É–∂–Ω–æ–º –º–Ω–µ —Ñ–æ—Ä–º–∞—Ç–µ.

## –ë–∞—à-—Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ª—é–±—ã—Ö —é–∑–∫–µ–π—Å–æ–≤
–ë–∞—à-—Å–∫—Ä–∏–ø—Ç—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—É—é –∏–ª–∏ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–µ–º—É—é –ª–æ–≥–∏–∫—É.

–ù–∞–ø—Ä–∏–º–µ—Ä, —Å–∫—Ä–∏–ø—Ç [tempe.sh](https://github.com/alexeev-prog/usefulscripts/blob/main/shell_scripts/tempe.sh) —Å–æ–∑–¥–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –Ω–µ–µ.

–ê —Å–∫—Ä–∏–ø—Ç—ã [check-cpu.sh](https://github.com/alexeev-prog/usefulscripts/blob/main/shell_scripts/check-cpu.sh) –∏ [check-gpu.sh](https://github.com/alexeev-prog/usefulscripts/blob/main/shell_scripts/check-gpu.sh) –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–ª—É—á–∏—Ç—å –≤–µ–Ω–¥–æ—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –∏ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –Ø –∏—Å–ø–æ–ª—å–∑—É—é —ç—Ç–∏ —Å–∫—Ä–∏–ø—Ç—ã –µ—Å–ª–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥—Ä–∞–π–≤–µ—Ä–∞ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–µ–Ω–¥–æ—Ä.

–ê –≤–æ—Ç –Ω–∞–ø—Ä–∏–º–µ—Ä —Å–∫—Ä–∏–ø—Ç `clean_broken_links.sh`:

```bash
#!/usr/bin/env bash

# Target directory for scan
TARGET_DIR="$HOME"

# Search and delete broken symlinks
find "$TARGET_DIR" -xtype l -print -delete

echo "‚úÖ All broken symlinks deleted from $TARGET_DIR"
```

–û–Ω –æ—á–∏—â–∞–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –æ—Ç —Å–ª–æ–º–∞–Ω–Ω—ã—Ö —Å–∏–º–ª–∏–Ω–∫–æ–≤, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –≤ —á–∏—Å—Ç–æ—Ç–µ –∏ –Ω–µ –∑–∞—Å–æ—Ä—è—Ç—å –µ–µ.

–ü—Ä–æ–¥–æ–ª–∂–∞—è —Ç–µ–º—É –æ—á–∏—Å—Ç–∫–∏ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, –º–æ–∂–Ω–æ —É–ø–æ–º—è–Ω—É—Ç—å —Å–∫—Ä–∏–ø—Ç [clean_downloads_dir.py](https://github.com/alexeev-prog/usefulscripts/blob/main/python_scripts/clean_downloads_dir.py). –û–Ω –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ python –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - `~/Downloads`), –ø—Ä–∏—á–µ–º –º–æ–∂–Ω–æ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã —Å –∫–∞–∫–∏–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º –≤ –∫–∞–∫—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, —á–µ—Ä–µ–∑ —Ñ–∞–π–ª extensions.json –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏. –ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç - –æ–Ω —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–∞–º –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –Ø –ª–∏—á–Ω–æ –ø–æ–ª—å–∑—É—é—Å—å –∏–º —á–∞—Å—Ç–æ, –∏ –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ Downloads.

–í —Ç–æ –≤—Ä–µ–º—è, –∫–æ–≥–¥–∞ —è –µ—â–µ —Å–∏–¥–µ–ª –Ω–∞ Arch Linux, —è –Ω–∞–ø–∏—Å–∞–ª –Ω–µ–±–æ–ª—å—à–æ–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∞—Ä—á–∞ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–∞–∫–µ—Ç pacman-contrib –¥–ª—è paccache):

```bash
#!/usr/bin/env bash

RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[0;33m'
BLUE='\033[0;34m'
CYAN='\033[0;36m'
PURPLE='\033[0;37m'
END='\033[0m'

printf "${GREEN}Cleaning...${END}\n"

printf "${RED}[+] Full system update${END}\n"
sudo pacman -Syu

printf "${BLUE}[+] Clean pacman cache${END}\n"
sudo pacman -Scc
sudo paccache -r
sudo paccache -rk1
sudo paccache -ruk0

printf "${CYAN}[+] Clean orphans${END}\n"
sudo pacman -Rns $(pacman -Qtdq)

printf "${PURPLE}[+] Clean font cache${END}\n"
fc-cache -frv

printf "${YELLOW}[+] Clean cache and tmp${END}\n"
sudo truncate -s 0 /var/log/pacman.log
sudo truncate -s 0 /var/log/pacman.log
rm -rf ~/.cache/
sudo rm -rf /tmp/*

printf "${GREEN}End!${END}\n"
```

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, —á–∞—Å—Ç–æ –±—ã–≤–∞–µ—Ç –ø–æ–ª–µ–∑–Ω–æ –æ—á–∏—â–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (`delete_old_temp_files.sh`):

```bash
#!/usr/bin/env bash

TARGET_DIR="/tmp"
MAX_AGE=7

find "$TARGET_DIR" -type f -mtime +$MAX_AGE -exec rm -v {} \;
echo "‚úÖ Delete temporary files that are more $MAX_AGE days from $TARGET_DIR"
```

–¢–∞–∫–∂–µ –∏–∑ [—ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏](https://habr.com/ru/companies/ruvds/articles/961514/) —è –ø–æ–∑–∞–∏–º—Å—Ç–≤–æ–≤–∞–ª —Å–µ–±–µ –≤ —Å–∏—Å—Ç–µ–º—É —Å–ª–µ–¥—É—é—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã:

 + [_mkcd foo_](https://codeberg.org/EvanHahn/dotfiles/src/commit/843b9ee13d949d346a4a73ccee2a99351aed285b/home/zsh/.config/zsh/aliases.zsh#L38-L41)¬†—Å–æ–∑–¥–∞—ë—Ç –∫–∞—Ç–∞–ª–æ–≥ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –Ω–µ–≥–æ —á–µ—Ä–µ–∑¬†`cd`. –ü–æ —Å—É—Ç–∏, —ç—Ç–æ –∫–æ–º–∞–Ω–¥–∞¬†`mkdir foo && cd foo`. –Ø —ç—Ç–∏–º —Å–∫—Ä–∏–ø—Ç–æ–º –ø–æ–ª—å–∑—É—é—Å—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ ‚Äî –ø–æ—á—Ç–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–∞—Ç–∞–ª–æ–≥–∞.
 + [_mksh_](https://codeberg.org/EvanHahn/dotfiles/src/commit/843b9ee13d949d346a4a73ccee2a99351aed285b/home/bin/bin/mksh)¬†–ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –æ–±–æ–ª–æ—á–∫–∏. –ö –ø—Ä–∏–º–µ—Ä—É,¬†`mksh foo.sh`¬†—Å–æ–∑–¥–∞—ë—Ç¬†`foo.sh`, –¥–µ–ª–∞–µ—Ç –µ–≥–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º —Å –ø–æ–º–æ—â—å—é `chmod u+x`, –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å—ã Bash –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ (–≤ –º–æ—ë–º —Å–ª—É—á–∞–µ Vim). –ü—Ä–∏–≥–æ–∂–¥–∞–µ—Ç—Å—è —Ä–∞–∑ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π. –ú–Ω–æ–≥–∏–µ –∏–∑ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –≤ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã —Å –ø–æ–º–æ—â—å—é mksh.
 + [_url "$my_url"_](https://codeberg.org/EvanHahn/dotfiles/src/commit/843b9ee13d949d346a4a73ccee2a99351aed285b/home/bin/bin/url)¬†–ø–∞—Ä—Å–∏—Ç URL-–∞–¥—Ä–µ—Å –Ω–∞ —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ —á–∞—Å—Ç–∏. –ò—Å–ø–æ–ª—å–∑—É—é –ø—Ä–∏–º–µ—Ä–Ω–æ —Ä–∞–∑ –≤ –º–µ—Å—è—Ü –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± URL, –∑–∞—á–∞—Å—Ç—É—é –ø—Ä–æ—Å—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –Ω–µ —Ö–æ—á—É –∫–ª–∏–∫–∞—Ç—å –ø–æ —Å—Å—ã–ª–∫–µ —Å —Ç—Ä–µ–∫–µ—Ä–æ–º.

## –†–∞–±–æ—Ç–∞ —Å —Å–µ—Ç—å—é
–î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ç—å—é —É –º–µ–Ω—è –µ—Å—Ç—å —Ü–µ–ª—ã–π –Ω–∞–±–æ—Ä —Å–∫—Ä–∏–ø—Ç–æ–≤:

 + [check_wifi_connection.sh](https://github.com/alexeev-prog/usefulscripts/blob/main/shell_scripts/check_wifi_connection.sh) - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–π Wi-Fi —Å–µ—Ç–∏. –°–∫—Ä–∏–ø—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â—É—é Wi-Fi —Å–µ—Ç—å –∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –æ –µ—ë —Å–º–µ–Ω–µ. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é SSID –≤ —Ñ–∞–π–ª `~/.last_ssid` –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ª–æ–≥ `~/.wifi_changes.log`. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–æ—É–º–∏–Ω–≥–∞ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞.
 + [check_wifi_status.sh](https://github.com/alexeev-prog/usefulscripts/blob/main/shell_scripts/check_wifi_status.sh) - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ —á–µ—Ä–µ–∑ ping. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å Google DNS (8.8.8.8) –∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –æ –ø–æ—Ç–µ—Ä–µ/–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –í—Å–µ —Å–æ–±—ã—Ç–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `~/.network_status.log`. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ cron –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
 + [detect_network_changes.sh](https://github.com/alexeev-prog/usefulscripts/blob/main/shell_scripts/detect_network_changes.sh) - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–Ω–µ—à–Ω–µ–≥–æ IP-–∞–¥—Ä–µ—Å–∞. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç –ø—É–±–ª–∏—á–Ω—ã–π IP —á–µ—Ä–µ–∑ ifconfig.me –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É, —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è. –ü–æ–ª–µ–∑–µ–Ω –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π, —Å–º–µ–Ω—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö IP. –õ–æ–≥–∏—Ä—É–µ—Ç –≤ `~/.network_changes.log`.
 + [detect_new_devices_in_net.sh](https://github.com/alexeev-prog/usefulscripts/blob/main/shell_scripts/detect_new_devices_in_net.sh) - —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç arp-scan –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è MAC-–∞–¥—Ä–µ—Å–æ–≤, —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–º —Å–ø–∏—Å–∫–æ–º `~/.known_devices.txt` –∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –æ –Ω–æ–≤—ã—Ö –¥–µ–≤–∞–π—Å–∞—Ö. –¢—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `arp-scan`. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–æ–º–∞—à–Ω–µ–π —Å–µ—Ç–∏.
 + [httpstatus.sh](https://github.com/alexeev-prog/usefulscripts/blob/main/shell_scripts/httpstatus.sh) - —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ HTTP-—Å—Ç–∞—Ç—É—Å –∫–æ–¥–æ–≤. –í—ã–≤–æ–¥–∏—Ç –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–¥–æ–≤ –æ—Ç 100 –¥–æ 511 —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ `./httpstatus.sh 404` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏–ª–∏ `./httpstatus.sh` –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞.
 + [list_of_wifi_nets.sh](https://github.com/alexeev-prog/usefulscripts/blob/main/shell_scripts/list_of_wifi_nets.sh) - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö Wi-Fi —Å–µ—Ç–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç SSID, —É—Ä–æ–≤–µ–Ω—å —Å–∏–≥–Ω–∞–ª–∞ –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∫–∞—á–µ—Å—Ç–≤–∞, —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ —Å–∏–ª–µ —Å–∏–≥–Ω–∞–ª–∞. –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç nmcli. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –ª—É—á—à–µ–π —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞.
 + [monitoring_net_activity.sh](https://github.com/alexeev-prog/usefulscripts/blob/main/shell_scripts/monitoring_net_activity.sh) - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –ò–∑–º–µ—Ä—è–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –≤—Ö–æ–¥—è—â–µ–≥–æ (RX) –∏ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ (TX) —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é wlo1), –æ–±–Ω–æ–≤–ª—è—è –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –≤ KB/s. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ç–∏.
 + [network_analysis.sh](https://github.com/alexeev-prog/usefulscripts/blob/main/shell_scripts/network_analysis.sh) - –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã. –°–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–æ–ø-10 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ —Å–µ—Ç–µ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ—à–∏–±–æ–∫. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º.

## –†–∞–±–æ—Ç–∞ —Å systemd
–ö–æ–≥–¥–∞-—Ç–æ –¥–∞–≤–Ω–æ —è –ø–∏—Å–∞–ª [—Å—Ç–∞—Ç—å—é –ø—Ä–æ —Ä–∞–±–æ—Ç—É —Å systemd](https://habr.com/ru/companies/timeweb/articles/824146/) –≥–¥–µ –≤ –∫–æ–Ω—Ü–µ –ø—Ä–∏–ª–æ–≥–∞–ª —Å–∫—Ä–∏–ø—Ç-–æ–±–µ—Ä—Ç–∫—É –¥–ª—è —Å–∞–º–æ–≥–æ systemd. –Ø –µ–≥–æ –Ω–µ–º–Ω–æ–≥–æ —É–ª—É—á—à–∏–ª –∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª - [systemdwrapper.py](https://github.com/alexeev-prog/usefulscripts/blob/main/python_scripts).

```
usage: systemdwrapper.py [-h] {version,disable,enable,restart,stop,start,status,startuptime,failed,active,stats,chain,export} ...

–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª—É–∂–±–∞–º–∏ systemd –∏ –∞–Ω–∞–ª–∏–∑–∞ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏

positional arguments:
  {version,disable,enable,restart,stop,start,status,startuptime,failed,active,stats,chain,export}
                        –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
    version             –ü–æ–ª—É—á–∏—Ç—å –≤–µ—Ä—Å–∏—é systemd
    disable             –í—ã–∫–ª—é—á–∏—Ç—å —Å–ª—É–∂–±—É
    enable              –í–∫–ª—é—á–∏—Ç—å —Å–ª—É–∂–±—É
    restart             –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–ª—É–∂–±—É
    stop                –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª—É–∂–±—É
    start               –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–ª—É–∂–±—É
    status              –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å —Å–ª—É–∂–±—ã
    startuptime         –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø—É—Å–∫–∞ —Å–∏—Å—Ç–µ–º—ã –∏ —Å–ª—É–∂–±
    failed              –ü–æ–∫–∞–∑–∞—Ç—å –Ω–µ—É–¥–∞—á–Ω—ã–µ —Å–ª—É–∂–±—ã
    active              –ü–æ–∫–∞–∑–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–ª—É–∂–±—ã
    stats               –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–∏—Å—Ç–µ–º—ã
    chain               –ê–Ω–∞–ª–∏–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π —Ü–µ–ø–æ—á–∫–∏ —Å–ª—É–∂–±—ã
    export              –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–∞ –≤ JSON

options:
  -h, --help            show this help message and exit
```

–ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å –∫–æ–º–∞–Ω–¥–æ–π startuptime —Å–∫—Ä–∏–ø—Ç –ø–∞—Ä—Å–∏—Ç –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥ –∏ –≤—ã–≤–æ–¥–∏—Ç —Ç–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:
–°–∞–º–∞—è –º–µ–¥–ª–µ–Ω–Ω–∞—è —Å–ª—É–∂–±–∞ (3780.0ms): NetworkManager-wait-online.service
–°–∞–º–∞—è –±—ã—Å—Ç—Ä–∞—è —Å–ª—É–∂–±–∞ (7.0ms): sys-kernel-config.mount
–°—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø—É—Å–∫–∞ —Å–ª—É–∂–±: 159.9ms
–ú–µ–¥–∏–∞–Ω–∞ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø—É—Å–∫–∞ —Å–ª—É–∂–±: 44.0ms
–û–±—â–µ–µ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Å–ª—É–∂–±: 11193.0ms

–°–ª—É–∂–±—ã —Å –≤—Ä–µ–º–µ–Ω–µ–º –∑–∞–ø—É—Å–∫–∞ > 1000ms:
  3780.0ms - NetworkManager-wait-online.service
```

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, —É –º–µ–Ω—è –µ—Å—Ç—å –µ—â–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –±–∞—à-—Å–∫—Ä–∏–ø—Ç `slowest_services_to_launch.sh`, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–æ–ø 10 —Å–∞–º—ã—Ö –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –ª–æ–≥-—Ñ–∞–π–ª:

```bash
#!/usr/bin/env bash

LOG_FILE="/var/log/boot_time.log"

echo "üï∞  Analyze system startup time" | tee -a $LOG_FILE

BOOT_TIME=$(systemd-analyze)

BLAME=$(systemd-analyze blame | head -n 10)

{
    echo "‚è±Ô∏è $(date)"
    echo "$BOOT_TIME"
    echo "üìå Ten most slowest services:"
    echo "$BLAME"
    echo "-----------------------------"
} >> $LOG_FILE

echo "‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã." | tee -a $LOG_FILE
```

–ü—Ä–æ–¥–æ–ª–∂–∞—è —Ç–µ–º—É —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏, –∏–Ω–æ–≥–¥–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è —Å–∫—Ä–∏–ø—Ç –Ω–∏–∂–µ. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã systemd, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:

```bash
#!/usr/bin/env bash

SERVICES=("nginx" "postgresql")
LOG_FILE="/var/log/systemd_healthcheck.log"

echo "üîç Check services status... $(date)" | tee -a $LOG_FILE

for svc in "${SERVICES[@]}"; do
    systemctl is-active --quiet "$svc"
    STATUS=$?

    if [ $STATUS -ne 0 ]; then
        echo "‚ùå Service $svc does not worked. Restart him..." | tee -a $LOG_FILE
        systemctl restart "$svc"
        sleep 1
        systemctl is-active --quiet "$svc" && echo "‚úÖ $svc started now." | tee -a $LOG_FILE
    else
        echo "‚úîÔ∏è $svc is worked." | tee -a $LOG_FILE
    fi
done
```

## –ê–≤—Ç–æ-–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤
–í –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –∏–ª–∏ –±–µ–∑ –Ω–∞–ª–∏—á–∏—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ DE, –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –≤—Ä—É—á–Ω—É—é. –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ —è –Ω–∞–ø–∏—Å–∞–ª —Å–∫—Ä–∏–ø—Ç `auto_mount_devices.sh`:

```bash
#!/usr/bin/env bash

MOUNT_DIR="$HOME/MOUNTED_DEVICE"

mkdir -p "$MOUNT_DIR"

DEVICE=$(lsblk -o NAME,TYPE,HOTPLUG | awk '$2 == "disk" && $3 == 1 {print $1}' | tail -n1)

if [ -n "$DEVICE" ]; then
    PARTITION="/dev/${DEVICE}1"

    mkdir -p "$MOUNT_DIR/$PARTITION"
    sudo mount "$PARTITION" "$MOUNT_DIR/$PARTITION"

    echo "‚úÖ Device $PARTITION mounted to $MOUNT_DIR/$PARTITION"
else
    echo "‚ùå USB-device not found"
fi
```

##

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–°–ø–∞—Å–∏–±–æ –∑–∞ –ø—Ä–æ—á—Ç–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏! –Ø –Ω–∞–¥–µ—é—Å—å, –≤—ã —É–∑–Ω–∞–ª–∏ —á—Ç–æ‚Äë—Ç–æ –Ω–æ–≤–µ–Ω—å–∫–æ–µ, –∏–ª–∏, –º–æ–∂–µ—Ç, –∫–∞–∫–æ–π‚Äë–Ω–∏–±—É–¥—å —Ç—Ä—é–∫ –Ω–∞—Ç–æ–ª–∫–Ω—É–ª –≤–∞—Å –Ω–∞ –¥—Ä—É–≥–æ–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º. –ï—Å–ª–∏ –Ω–∞—à–ª–∏ –Ω—é–∞–Ω—Å –≤ —Å–∞–º–æ–π —Å—Ç–∞—Ç—å–µ ‚Äî –ø–∏—à–∏—Ç–µ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.

–ï—Å–ª–∏ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è –∏–∑–ª–æ–∂–µ–Ω–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª, –º–æ–≥—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –≤–∞–º –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ [–º–æ–π –±–ª–æ–≥ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ](https://t.me/hex_warehouse). –ï—Å–ª–∏, –∫–æ–Ω–µ—á–Ω–æ, –≤–∞–º —Å—Ç–∞—Ç—å—è –ø–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å –∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–∏–¥–µ—Ç—å —á—É—Ç—å –±–æ–ª—å—à–µ.

–ê —Å–∞–º–∏ —Å–∫—Ä–∏–ø—Ç—ã –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –≤ [–º–æ–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ The Art Of Fun C](https://github.com/alexeev-prog/usefulscripts).

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏

 + ["–ú–æ–∏ –ª–∏—á–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã"](https://habr.com/ru/companies/ruvds/articles/961514/)
